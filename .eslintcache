[{"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\index.tsx":"1","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\App.tsx":"2","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\context.ts":"3","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test.object.assign.ts":"4","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\ImageStream.tsx":"5","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\Sidebar.tsx":"6","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\model\\ImageFromFilter.ts":"7","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\model\\Image.ts":"8","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\GalleryInScroll.tsx":"9","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\MyPhoto.tsx":"10","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\my-gallery.tsx":"11","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\header.tsx":"12","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\browse-page.tsx":"13","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-md5.tsx":"14","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\one-source-page.tsx":"15","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-source.tsx":"16","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-dir.tsx":"17","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\unscanned.tsx":"18","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-meta.tsx":"19","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\source-meta.tsx":"20"},{"size":232,"mtime":1611940295847,"results":"21","hashOfConfig":"22"},{"size":2791,"mtime":1612436706395,"results":"23","hashOfConfig":"22"},{"size":1074,"mtime":1612132311656,"results":"24","hashOfConfig":"22"},{"size":215,"mtime":1611940295898,"results":"25","hashOfConfig":"22"},{"size":4194,"mtime":1612132496552,"results":"26","hashOfConfig":"22"},{"size":1283,"mtime":1611952090388,"results":"27","hashOfConfig":"22"},{"size":354,"mtime":1611951917523,"results":"28","hashOfConfig":"22"},{"size":3860,"mtime":1611951888613,"results":"29","hashOfConfig":"22"},{"size":2214,"mtime":1611950367369,"results":"30","hashOfConfig":"22"},{"size":1653,"mtime":1612132289704,"results":"31","hashOfConfig":"22"},{"size":1553,"mtime":1611950367375,"results":"32","hashOfConfig":"22"},{"size":490,"mtime":1612172171467,"results":"33","hashOfConfig":"22"},{"size":1371,"mtime":1612436706400,"results":"34","hashOfConfig":"22"},{"size":3055,"mtime":1612437473851,"results":"35","hashOfConfig":"22"},{"size":1805,"mtime":1612437069310,"results":"36","hashOfConfig":"22"},{"size":1456,"mtime":1612436927876,"results":"37","hashOfConfig":"22"},{"size":3450,"mtime":1612437069290,"results":"38","hashOfConfig":"22"},{"size":2693,"mtime":1612266943515,"results":"39","hashOfConfig":"22"},{"size":2022,"mtime":1612268134102,"results":"40","hashOfConfig":"22"},{"size":1096,"mtime":1612436176938,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"1pqf0us",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"44"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"44"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\index.tsx",[],["86","87"],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\App.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\context.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test.object.assign.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\ImageStream.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\Sidebar.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\model\\ImageFromFilter.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\model\\Image.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\GalleryInScroll.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\MyPhoto.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\my-gallery.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\header.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\browse-page.tsx",["88"],"import { Source } from \"../App\";\nimport { IoReload } from \"react-icons/all\";\nimport { CheckSource } from \"./check-source\";\n\nexport default function BrowsePage(props: {\n\tsources: Source[];\n\treloadSources: () => void;\n}) {\n\tconsole.log(props.sources);\n\treturn (\n\t\t<div className=\"bg-white shadow overflow-hidden sm:rounded-lg mx-3\">\n\t\t\t<div className=\"px-4 py-5 flex flex-row\">\n\t\t\t\t<h3 className=\"text-lg leading-6 font-medium text-gray-900 flex-grow\">\n\t\t\t\t\tSources\n\t\t\t\t</h3>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"bg-blue-300 p-1 rounded\"\n\t\t\t\t\tonClick={props.reloadSources}\n\t\t\t\t>\n\t\t\t\t\t<IoReload />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"border-t border-gray-200 divide-gray-100 divide-y\">\n\t\t\t\t{props.sources.map((el: Source) => (\n\t\t\t\t\t<SourceItem source={el} key={el.id} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction SourceItem(props: { source: Source }) {\n\treturn (\n\t\t<div className=\"my-3 px-3 py-1 flex flex-row\">\n\t\t\t<div className=\"flex-grow\">\n\t\t\t\t<h5 className=\"\">\n\t\t\t\t\t<a href={`/browse/${props.source.name}`}>{props.source.name}</a>\n\t\t\t\t\t<span className=\"text-sm bg-blue-300 align-top px-1 mx-1\">\n\t\t\t\t\t\t{props.source.id}\n\t\t\t\t\t</span>\n\t\t\t\t</h5>\n\t\t\t\t<div>\n\t\t\t\t\t{props.source.path} [{props.source.folders}/{props.source.files}]\n\t\t\t\t</div>\n\t\t\t\t<div>{props.source.md5}</div>\n\t\t\t</div>\n\t\t\t<div className=\"mx-2\">\n\t\t\t\t<CheckSource source={props.source} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-md5.tsx",["89","90"],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\one-source-page.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-source.tsx",["91","92"],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-dir.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\unscanned.tsx",["93"],"import { Source } from \"../App\";\nimport { useContext, useState } from \"react\";\nimport { context } from \"../context\";\nimport { useQuery } from \"react-query\";\nimport axios from \"redaxios\";\nimport ScanMeta, { FileToScan } from \"./scan-meta\";\n\nfunction Top10(props: { filesToScan: FileToScan[] }) {\n\treturn (\n\t\t<>\n\t\t\t<hr />\n\t\t\t{props.filesToScan.slice(0, 10).map((el: FileToScan) => (\n\t\t\t\t<ScanMeta key={el.id} file={el} autoStart={false} />\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nfunction MetaScanProgress(props: { data: FileToScan[] }) {\n\tconst [current, setCurrent] = useState(0);\n\tconst [playState, setPlayState] = useState(false);\n\n\tconst play = () => {\n\t\tsetPlayState(true);\n\t\tnext();\n\t};\n\n\tconst stop = () => {\n\t\tsetPlayState(false);\n\t};\n\n\tconst next = () => {\n\t\tconsole.log(\"next\");\n\t\tif (playState && current < props.data.length - 1) {\n\t\t\tsetCurrent((current) => current + 1);\n\t\t}\n\t};\n\n\tif (!props.data.length) {\n\t\treturn <div>Done</div>;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<progress value={current} max={props.data.length} className=\"w-full\" />\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\tonClick={play}\n\t\t\t\t\tdisabled={playState}\n\t\t\t\t\tclassName=\"bg-yellow-300 p-1 m-1 rounded\"\n\t\t\t\t>\n\t\t\t\t\tPlay\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={stop}\n\t\t\t\t\tdisabled={!playState}\n\t\t\t\t\tclassName=\"bg-red-300 p-1 m-1 rounded\"\n\t\t\t\t>\n\t\t\t\t\tStop\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tonClick={next}\n\t\t\t\t\tdisabled={!playState}\n\t\t\t\t\tclassName=\"bg-green-300 p-1 m-1 rounded\"\n\t\t\t\t>\n\t\t\t\t\tNext\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t{current > 0 && (\n\t\t\t\t<ScanMeta file={props.data[current - 1]} autoStart={true} />\n\t\t\t)}\n\t\t\t<ScanMeta\n\t\t\t\tfile={props.data[current]}\n\t\t\t\tautoStart={playState}\n\t\t\t\tonDone={next}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default function Unscanned(props: { source: Source }) {\n\tconst ctx = useContext(context);\n\n\tconst {\n\t\tisLoading,\n\t\terror,\n\t\tdata,\n\t\trefetch,\n\t}: {\n\t\tisLoading: boolean;\n\t\terror: Error | null;\n\t\tdata: any;\n\t\trefetch: () => void;\n\t} = useQuery(\"GetUnscanned\", async () => {\n\t\tconst url = new URL(ctx.baseUrl.toString() + \"GetUnscanned\");\n\t\turl.searchParams.set(\"id\", props.source.id.toString());\n\t\tconst res = await axios.get(url.toString());\n\t\treturn res.data;\n\t});\n\n\tif (isLoading) return <div>Loading...</div>;\n\n\tconst refetchButton = (\n\t\t<button\n\t\t\tclassName=\"bg-yellow-300 p-1 rounded\"\n\t\t\tonClick={refetch}\n\t\t\tdisabled={isLoading}\n\t\t>\n\t\t\tRefetch\n\t\t</button>\n\t);\n\n\tif (error)\n\t\treturn (\n\t\t\t<div className=\"bg-red-300 p-2\">\n\t\t\t\t<p>An error has occurred: {error.message}</p>\n\t\t\t\t{refetchButton}\n\t\t\t</div>\n\t\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<p>Unscanned: {data.count}</p>\n\t\t\t{refetchButton}\n\t\t\t{/*<pre>{JSON.stringify(data, null, 2)}</pre>*/}\n\t\t\t{/*<Top10 data={data.filesToScan} />*/}\n\t\t\t<MetaScanProgress data={data.filesToScan} />\n\t\t</div>\n\t);\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-meta.tsx",["94","95"],"import { useContext } from \"react\";\nimport { context } from \"../context\";\nimport { QueryObserverBaseResult, useQuery } from \"react-query\";\nimport axios from \"redaxios\";\nimport { FadeLoader } from \"react-spinners\";\n\nexport interface FileToScan {\n\tid: number;\n}\n\nexport default function ScanMeta(props: {\n\tfile: FileToScan;\n\tautoStart?: boolean;\n\tonDone?: () => void;\n}) {\n\tconst ctx = useContext(context);\n\n\tconst { isLoading, isFetching, error, data, refetch } = useQuery(\n\t\t[\"ScanMeta\", props.file.id],\n\t\tasync () => {\n\t\t\tconst url = new URL(ctx.baseUrl.toString() + \"ScanMeta\");\n\t\t\turl.searchParams.set(\"fileID\", props.file.id.toString());\n\t\t\tconsole.log(url.toString());\n\t\t\tconst res = await axios.get(url.toString());\n\t\t\treturn res.data;\n\t\t},\n\t\t{\n\t\t\trefetchOnWindowFocus: false,\n\t\t\tenabled: props.autoStart,\n\t\t\tinitialData: {},\n\t\t}\n\t) as QueryObserverBaseResult<\n\t\t{\n\t\t\tthumbUrl: string;\n\t\t\tthumbMeta: {\n\t\t\t\timage: {\n\t\t\t\t\twidth: number;\n\t\t\t\t\theight: number;\n\t\t\t\t};\n\t\t\t};\n\t\t},\n\t\tError\n\t>;\n\n\t// if (isFetching)\n\t// \treturn (\n\t// \t\t<div className=\"inline-block\" style={{ width: 256, height: 144 }}>\n\t// \t\t\t<FadeLoader loading={true} />\n\t// \t\t</div>\n\t// \t);\n\n\tconst scanButton = (\n\t\t<button\n\t\t\tclassName=\"bg-yellow-300 p-1 rounded m-1\"\n\t\t\tonClick={() => refetch()}\n\t\t\tdisabled={isLoading}\n\t\t\tstyle={{ width: 256, height: 144 }}\n\t\t>\n\t\t\tScan Meta ({props.file.id})\n\t\t</button>\n\t);\n\n\tif (error)\n\t\treturn (\n\t\t\t<div className=\"bg-red-300 p-2\">\n\t\t\t\t<p>An error has occurred: {error.message}</p>\n\t\t\t\t{scanButton}\n\t\t\t</div>\n\t\t);\n\n\tif (data) {\n\t\tdata.thumbUrl && props.onDone && setTimeout(props.onDone, 500);\n\n\t\treturn (\n\t\t\t<span>\n\t\t\t\t{/*<pre>{JSON.stringify(data, null, 2)}</pre>*/}\n\t\t\t\t{data.thumbUrl && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={data.thumbUrl}\n\t\t\t\t\t\talt={data.thumbUrl}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: data.thumbMeta.image.width ?? 256,\n\t\t\t\t\t\t\theight: data.thumbMeta.image.height ?? 144,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"inline p-1 m-1\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{!data.thumbUrl && scanButton}\n\t\t\t</span>\n\t\t);\n\t}\n\n\treturn <div> some shit</div>;\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\source-meta.tsx",[],{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","severity":1,"message":"101","line":4,"column":8,"nodeType":"102","messageId":"103","endLine":4,"endColumn":16},{"ruleId":"100","severity":1,"message":"104","line":10,"column":7,"nodeType":"102","messageId":"103","endLine":10,"endColumn":16},{"ruleId":"105","severity":1,"message":"106","line":51,"column":17,"nodeType":"107","messageId":"108","endLine":51,"endColumn":66},{"ruleId":"100","severity":1,"message":"109","line":5,"column":10,"nodeType":"102","messageId":"103","endLine":5,"endColumn":19},{"ruleId":"110","severity":1,"message":"111","line":36,"column":5,"nodeType":"112","endLine":36,"endColumn":19,"suggestions":"113"},{"ruleId":"100","severity":1,"message":"114","line":8,"column":10,"nodeType":"102","messageId":"103","endLine":8,"endColumn":15},{"ruleId":"100","severity":1,"message":"115","line":5,"column":10,"nodeType":"102","messageId":"103","endLine":5,"endColumn":20},{"ruleId":"100","severity":1,"message":"116","line":18,"column":21,"nodeType":"102","messageId":"103","endLine":18,"endColumn":31},"no-native-reassign",["117"],"no-negated-in-lhs",["118"],"@typescript-eslint/no-unused-vars","'CheckMD5' is defined but never used.","Identifier","unusedVar","'ColorHash' is assigned a value but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'result'.","ArrowFunctionExpression","unsafeRefs","'BarLoader' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["119"],"'Top10' is defined but never used.","'FadeLoader' is defined but never used.","'isFetching' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"120","fix":"121"},"Update the dependencies array to be: [fetchData, props.source]",{"range":"122","text":"123"},[975,989],"[fetchData, props.source]"]