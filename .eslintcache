[{"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\index.tsx":"1","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\App.tsx":"2","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\context.ts":"3","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test.object.assign.ts":"4","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\model\\Image.ts":"5","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\header.tsx":"6","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\browse-page.tsx":"7","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-md5.tsx":"8","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\one-source-page.tsx":"9","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-source.tsx":"10","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-dir.tsx":"11","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\unscanned.tsx":"12","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-meta.tsx":"13","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\source-meta.tsx":"14","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\Sidebar.tsx":"15","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\ImageStream.tsx":"16","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\GalleryInScroll.tsx":"17","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\my-gallery.tsx":"18","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\MyPhoto.tsx":"19","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test\\visibility-test.tsx":"20","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\stream-render-gallery.tsx":"21","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\stream-render-simple.tsx":"22","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\stream-page.tsx":"23","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test\\one-image-test.tsx":"24","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test\\timeline-test.tsx":"25","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\timeline.tsx":"26","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\clickable-sparkline-bars.tsx":"27","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\functions.ts":"28"},{"size":232,"mtime":1611940295847,"results":"29","hashOfConfig":"30"},{"size":3084,"mtime":1613074738582,"results":"31","hashOfConfig":"30"},{"size":1074,"mtime":1612132311656,"results":"32","hashOfConfig":"30"},{"size":215,"mtime":1611940295898,"results":"33","hashOfConfig":"30"},{"size":3336,"mtime":1613037787431,"results":"34","hashOfConfig":"30"},{"size":839,"mtime":1613074562903,"results":"35","hashOfConfig":"30"},{"size":1371,"mtime":1612912252858,"results":"36","hashOfConfig":"30"},{"size":3278,"mtime":1612948608109,"results":"37","hashOfConfig":"30"},{"size":2052,"mtime":1612437631617,"results":"38","hashOfConfig":"30"},{"size":1515,"mtime":1612948810317,"results":"39","hashOfConfig":"30"},{"size":3450,"mtime":1612437069290,"results":"40","hashOfConfig":"30"},{"size":2700,"mtime":1612948655590,"results":"41","hashOfConfig":"30"},{"size":1965,"mtime":1612948641826,"results":"42","hashOfConfig":"30"},{"size":1096,"mtime":1612436176938,"results":"43","hashOfConfig":"30"},{"size":2073,"mtime":1613035666916,"results":"44","hashOfConfig":"30"},{"size":3621,"mtime":1613035760971,"results":"45","hashOfConfig":"30"},{"size":3029,"mtime":1613037056401,"results":"46","hashOfConfig":"30"},{"size":3690,"mtime":1613036065484,"results":"47","hashOfConfig":"30"},{"size":3523,"mtime":1613041304435,"results":"48","hashOfConfig":"30"},{"size":1566,"mtime":1612983415696,"results":"49","hashOfConfig":"30"},{"size":359,"mtime":1613034923842,"results":"50","hashOfConfig":"30"},{"size":500,"mtime":1613034716736,"results":"51","hashOfConfig":"30"},{"size":763,"mtime":1613036299673,"results":"52","hashOfConfig":"30"},{"size":3483,"mtime":1613037601969,"results":"53","hashOfConfig":"30"},{"size":983,"mtime":1613079368846,"results":"54","hashOfConfig":"30"},{"size":3400,"mtime":1613079274666,"results":"55","hashOfConfig":"30"},{"size":1731,"mtime":1613078413862,"results":"56","hashOfConfig":"30"},{"size":188,"mtime":1613077851165,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"1pqf0us",{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\index.tsx",[],["120","121"],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\App.tsx",["122"],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\context.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test.object.assign.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\model\\Image.ts",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\header.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\browse-page.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-md5.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\one-source-page.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\check-source.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-dir.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\unscanned.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\scan-meta.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\browse\\source-meta.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\Sidebar.tsx",["123","124"],"import React, { FormEvent } from \"react\";\nimport { AppContext, context } from \"../context\";\nimport { Source } from \"../App\";\n\ninterface ISidebarProps {\n\tsources: Source[];\n\tsourceID?: number;\n\tsetSource: (id?: number) => void;\n}\n\ninterface ISidebarState {\n\tminWidth?: number;\n}\n\nexport class Sidebar extends React.Component<ISidebarProps, ISidebarState> {\n\tstatic contextType = context;\n\t// @ts-ignore\n\tcontext: AppContext;\n\n\tstate: ISidebarState = {};\n\n\tconstructor(props: any, context: any) {\n\t\tsuper(props, context);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.postConstruct();\n\t}\n\n\tpostConstruct() {\n\t\tif (this.context) {\n\t\t\tlet minWidth = this.context.sidebar?.minWidth;\n\t\t\tconsole.log(\"setState(minWidth)\", minWidth);\n\t\t\t// this.setState({\n\t\t\t// \tminWidth: minWidth,\n\t\t\t// });\n\t\t\tthis.state.minWidth = minWidth;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<ul className=\"pb-2\">\n\t\t\t\t\t{this.getSourceLi({ id: undefined, name: \"All\" })}\n\t\t\t\t\t{this.props.sources.map((source: Source) => this.getSourceLi(source))}\n\t\t\t\t</ul>\n\t\t\t\t<form onSubmit={this.onSubmit.bind(this)}>\n\t\t\t\t\t<label htmlFor=\"minWidth\">Min Width</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"u-full-width\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tplaceholder=\"minWidth\"\n\t\t\t\t\t\tid=\"minWidth\"\n\t\t\t\t\t\tname=\"minWidth\"\n\t\t\t\t\t\tdefaultValue={this.state.minWidth}\n\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\tthis.setState({ minWidth: parseInt(e.target.value) })\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<input className=\"button-primary\" type=\"submit\" value=\"Submit\" />\n\t\t\t\t</form>\n\t\t\t</>\n\t\t);\n\t}\n\n\tprivate getSourceLi(source: { id?: number; name: string }) {\n\t\treturn (\n\t\t\t<li key={source.id}>\n\t\t\t\t<button\n\t\t\t\t\tonClick={(e: React.MouseEvent) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn this.props.setSource(source.id);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={this.props.sourceID === source.id ? \"active\" : \"\"}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontWeight: this.props.sourceID === source.id ? \"bold\" : undefined,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{source.name}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t}\n\n\tonSubmit(e: FormEvent) {\n\t\te.preventDefault();\n\t\tthis.context.setState({\n\t\t\tsidebar: {\n\t\t\t\tminWidth: this.state.minWidth,\n\t\t\t},\n\t\t});\n\t}\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\ImageStream.tsx",["125"],"import React from \"react\";\nimport axios from \"redaxios\";\nimport { Image } from \"../model/Image\";\nimport moment from \"moment\";\nimport { AppContext, context } from \"../context\";\nimport StreamRenderGallery from \"./stream-render-gallery\";\nimport StreamRenderSimple from \"./stream-render-simple\";\n\ninterface IAppProps {\n\tsourceID?: number;\n}\n\ninterface IAppState {\n\tstart: Date;\n\titems: Image[];\n\tend?: Date;\n}\n\nexport default class ImageStream extends React.Component<IAppProps, IAppState> {\n\tstate: IAppState = {\n\t\tstart: new Date(),\n\t\titems: [],\n\t\tend: undefined,\n\t};\n\n\tstatic contextType = context;\n\t// @ts-ignore\n\tcontext: AppContext;\n\n\tbaseUrl: URL = new URL(document.location.href);\n\n\tcomponentDidMount() {\n\t\tthis.baseUrl = this.context.baseUrl;\n\t\tif (this.context.lastTopTimestamp) {\n\t\t\t// this.setState({\n\t\t\t// \tend: this.context.lastTopTimestamp,\n\t\t\t// });\n\t\t\tthis.state.end = this.context.lastTopTimestamp;\n\t\t}\n\t\tthis.fetchData().then();\n\t}\n\n\tasync fetchData() {\n\t\tconst images = await this.fetchDataFromFilterServer();\n\t\tthis.appendImages(images);\n\t}\n\n\tasync fetchDataFromFilterServer() {\n\t\tconst urlImages = new URL(process.env.REACT_APP_API + \"Images\");\n\t\tthis.appendSearchParams(urlImages);\n\t\t//console.log(urlImages);\n\t\tconst res = await axios.get(urlImages.toString());\n\t\t// console.log(res.data);\n\t\tconst resData = res.data;\n\t\tif (resData.status !== \"ok\") {\n\t\t\tthrow new Error(resData.error);\n\t\t}\n\n\t\tconst images: Image[] = resData.data.map((el: Image) => new Image(el));\n\t\treturn images;\n\t}\n\n\tappendSearchParams(urlImages: URL) {\n\t\tif (this.props.sourceID) {\n\t\t\turlImages.searchParams.set(\"source\", this.props.sourceID.toString());\n\t\t}\n\t\turlImages.searchParams.set(\n\t\t\t\"since\",\n\t\t\tmoment(this.state.end || this.state.start).format(\"YYYY-MM-DD HH:mm:ss\")\n\t\t);\n\t\tlet minWidth = this.context.sidebar?.minWidth;\n\t\tif (minWidth) {\n\t\t\turlImages.searchParams.set(\"minWidth\", minWidth.toString());\n\t\t}\n\t}\n\n\tappendImages(images: any[]) {\n\t\tif (!images.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst lastImage = images[images.length - 1];\n\t\tconst lastDate = lastImage.getTimestamp();\n\t\t// console.log(lastImage, lastDate);\n\t\tthis.setState(\n\t\t\t({ items }) => {\n\t\t\t\t// append if not id exists\n\t\t\t\timages.map((nnew: Image) => {\n\t\t\t\t\tif (!items.some((el) => el.id === nnew.id)) {\n\t\t\t\t\t\tnnew.baseUrl = this.baseUrl?.toString();\n\t\t\t\t\t\treturn items.push(nnew);\n\t\t\t\t\t}\n\t\t\t\t\treturn \"x\";\n\t\t\t\t});\n\t\t\t\treturn {\n\t\t\t\t\titems,\n\t\t\t\t\tend: lastDate,\n\t\t\t\t};\n\t\t\t},\n\t\t\t() => {\n\t\t\t\t// console.log(this.state.items.map((el: Image) => el.id));\n\t\t\t}\n\t\t);\n\t}\n\n\tget queryParams() {\n\t\tconst url = new URL(document.location.href);\n\t\treturn url.searchParams;\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.items.length);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"p-2\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: \"#33C3F0\",\n\t\t\t\t\t\tposition: \"sticky\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tzIndex: 100,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tImages: {this.state.items.length}\n\t\t\t\t</div>\n\t\t\t\t{this.queryParams.has(\"simple\") ? (\n\t\t\t\t\t<StreamRenderSimple\n\t\t\t\t\t\tphotos={this.state.items}\n\t\t\t\t\t\tnext={this.fetchData.bind(this)}\n\t\t\t\t\t\trefresh={this.refresh.bind(this)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<StreamRenderGallery\n\t\t\t\t\t\tphotos={this.state.items}\n\t\t\t\t\t\tnext={this.fetchData.bind(this)}\n\t\t\t\t\t\trefresh={this.refresh.bind(this)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\tcomponentDidUpdate(\n\t\tprevProps: Readonly<IAppProps>,\n\t\tnextState: Readonly<IAppState>,\n\t\tnextContext: any\n\t): boolean {\n\t\tconst yes = this.props.sourceID !== prevProps.sourceID;\n\t\tif (yes) {\n\t\t\tthis.setState({ items: [], start: new Date(), end: undefined }, () =>\n\t\t\t\tthis.fetchData().then()\n\t\t\t);\n\t\t}\n\t\treturn yes;\n\t}\n\n\trefresh() {\n\t\tconsole.log(\"refresh\");\n\t}\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\GalleryInScroll.tsx",["126"],"import { Image } from \"../model/Image\";\nimport React from \"react\";\nimport Carousel, { Modal, ModalGateway } from \"react-images\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { AppContext, context } from \"../context\";\nimport { MyGallery } from \"./my-gallery\";\nimport ScaleLoader from \"react-spinners/ScaleLoader\";\nimport { PhotoProps } from \"react-photo-gallery\";\n\nexport interface PhotoSetItem extends PhotoProps {\n\tkey?: string;\n\tsrc: string;\n\twidth: number;\n\theight: number;\n\timage?: Image;\n}\n\ninterface IGalleryInScrollProps {\n\tphotos: Image[];\n\tnext: any;\n\trefreshFunction: () => void;\n}\n\nexport class GalleryInScroll extends React.Component<\n\tIGalleryInScrollProps,\n\t{\n\t\tcurrentImage?: number;\n\t\tviewerIsOpen: boolean;\n\t}\n> {\n\tstatic contextType = context;\n\t// @ts-ignore\n\tcontext: AppContext;\n\n\tstate = {\n\t\tcurrentImage: 0,\n\t\tviewerIsOpen: false,\n\t};\n\n\tcomponentDidMount() {\n\t\t// console.log(\n\t\t// \tthis.props.photos.map(\n\t\t// \t\t(p: Image) => p.path + \" [\" + p.getWidth() + \"x\" + p.getHeight() + \"]\"\n\t\t// \t)\n\t\t// );\n\t}\n\n\tphotoItems(): PhotoSetItem[] {\n\t\tconst photoSet = this.props.photos.map((img: Image) => {\n\t\t\t// console.log(img);\n\t\t\treturn {\n\t\t\t\tsrc: img.thumbURL,\n\t\t\t\twidth: img.getWidth(),\n\t\t\t\theight: img.getHeight(),\n\t\t\t\timage: img,\n\t\t\t} as PhotoSetItem;\n\t\t});\n\t\t//console.log(photoSet.map(el => el.src + ' [' + el.width + 'x' + el.height + ']'));\n\t\treturn photoSet;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<InfiniteScroll\n\t\t\t\t\tdataLength={this.photoItems().length} //This is important field to render the next data\n\t\t\t\t\tnext={this.props.next}\n\t\t\t\t\thasMore={true}\n\t\t\t\t\thasChildren={false}\n\t\t\t\t\tloader={() => null}\n\t\t\t\t\t/*<h4 style={{ minHeight: 30 }}>*/\n\t\t\t\t\t/*\t<ScaleLoader loading={true} color=\"#4DAF7C\" /> Loading...*/\n\t\t\t\t\t/*</h4>*/\n\t\t\t\t\t/*}*/\n\t\t\t\t\tendMessage={\n\t\t\t\t\t\t<p style={{ textAlign: \"center\" }}>\n\t\t\t\t\t\t\t<b>Yay! You have seen it all</b>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t}\n\t\t\t\t\t// below props only if you need pull down functionality\n\t\t\t\t\trefreshFunction={this.props.refreshFunction}\n\t\t\t\t\tpullDownToRefresh\n\t\t\t\t\tpullDownToRefreshContent={\n\t\t\t\t\t\t<h3 style={{ textAlign: \"center\" }}>\n\t\t\t\t\t\t\t&#8595; Pull down to refresh\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t}\n\t\t\t\t\treleaseToRefreshContent={\n\t\t\t\t\t\t<h3 style={{ textAlign: \"center\" }}>&#8593; Release to refresh</h3>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<MyGallery\n\t\t\t\t\t\tphotos={this.photoItems()}\n\t\t\t\t\t\topenLightbox={this.openLightbox.bind(this)}\n\t\t\t\t\t/>\n\t\t\t\t</InfiniteScroll>\n\n\t\t\t\t<ModalGateway>\n\t\t\t\t\t{this.state.viewerIsOpen ? (\n\t\t\t\t\t\t<Modal onClose={this.closeLightbox.bind(this)}>\n\t\t\t\t\t\t\t<Carousel\n\t\t\t\t\t\t\t\tcurrentIndex={this.state.currentImage}\n\t\t\t\t\t\t\t\tviews={this.props.photos.map((x: Image) => ({\n\t\t\t\t\t\t\t\t\t...x,\n\t\t\t\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\t\t\t\tthumbnail: x.thumbURL,\n\t\t\t\t\t\t\t\t\t\tregular: x.originalURL,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcaption: x.title,\n\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t) : null}\n\t\t\t\t</ModalGateway>\n\t\t\t</div>\n\t\t);\n\t}\n\n\topenLightbox(index: number) {\n\t\tconsole.log(\"image\", index);\n\t\tthis.setState({\n\t\t\tcurrentImage: index,\n\t\t\tviewerIsOpen: true,\n\t\t});\n\t}\n\n\tcloseLightbox() {\n\t\tthis.setState({\n\t\t\tviewerIsOpen: false,\n\t\t});\n\t}\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\my-gallery.tsx",["127"],"import React from \"react\";\nimport Gallery, { PhotoProps, RenderImageProps } from \"react-photo-gallery\";\nimport { MyPhoto } from \"./MyPhoto\";\n// @ts-ignore\nimport IntersectionVisible from \"react-intersection-visible\";\nimport { Image } from \"../model/Image\";\nimport { PhotoSetItem } from \"./GalleryInScroll\";\nimport TrackVisibility from \"react-on-screen\";\nconst VisibilitySensor = require(\"react-visibility-sensor\");\n\n/**\n * @deprecated temporary not used\n * @param props\n */\nclass ImageRenderIntersection extends React.Component<\n\tRenderImageProps<PhotoProps<PhotoSetItem>>\n> {\n\trender() {\n\t\treturn (\n\t\t\t<IntersectionVisible\n\t\t\t\tkey={this.props.photo.key}\n\t\t\t\t// onIntersect={ e => this.onIntersect( e ) }\n\t\t\t\tonHide={(e: any) =>\n\t\t\t\t\tthis.props.photo.image && this.onImageHide(e, this.props.photo.image)\n\t\t\t\t}\n\t\t\t\tonShow={(e: any) =>\n\t\t\t\t\tthis.props.photo.image && this.onImageShow(e, this.props.photo.image)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<MyPhoto\n\t\t\t\t\tkey={this.props.photo.key}\n\t\t\t\t\tindex={this.props.index}\n\t\t\t\t\tdirection={this.props.direction}\n\t\t\t\t\tleft={this.props.left}\n\t\t\t\t\ttop={this.props.top}\n\t\t\t\t\tphoto={this.props.photo}\n\t\t\t\t\tonClick={(index: any) => {\n\t\t\t\t\t\tconsole.log(\"click\", index);\n\t\t\t\t\t\t// this.props.openLightbox(this.props.index);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</IntersectionVisible>\n\t\t);\n\t}\n\n\tprivate onImageShow(e: IntersectionObserverEntry, image: Image) {\n\t\t// console.log('show', e);\n\t\t// this.context.setState({\n\t\t// \t[AppContext.VIEWPORT_TIMESTAMP]: image.date,\n\t\t// });\n\t}\n\n\tprivate onImageHide(e: IntersectionObserverEntry, image: Image) {\n\t\t// console.log('hide', e);\n\t}\n}\n\ninterface Props {\n\tphotos: PhotoSetItem[];\n\topenLightbox: (index: number) => void;\n}\n\nexport class MyGallery extends React.Component<Props, any> {\n\timageRender(props: RenderImageProps<PhotoProps<PhotoSetItem>>) {\n\t\treturn (\n\t\t\t<MyPhoto\n\t\t\t\tindex={props.index}\n\t\t\t\tphoto={props.photo}\n\t\t\t\tdirection={props.direction}\n\t\t\t\tleft={props.left}\n\t\t\t\ttop={props.top}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tthis.props.openLightbox(props.index);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\timageRenderVisibilitySensor(\n\t\tprops: RenderImageProps<PhotoProps<PhotoSetItem>>\n\t) {\n\t\treturn (\n\t\t\t<VisibilitySensor>\n\t\t\t\t{({ isVisible }: { isVisible: boolean }) =>\n\t\t\t\t\tisVisible ? (\n\t\t\t\t\t\t<MyPhoto\n\t\t\t\t\t\t\tindex={props.index}\n\t\t\t\t\t\t\tphoto={props.photo}\n\t\t\t\t\t\t\tdirection={props.direction}\n\t\t\t\t\t\t\tleft={props.left}\n\t\t\t\t\t\t\ttop={props.top}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.openLightbox(props.index);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ width: props.photo.width, height: props.photo.height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</VisibilitySensor>\n\t\t);\n\t}\n\n\timageRenderOnScreen(props: RenderImageProps<PhotoProps<PhotoSetItem>>) {\n\t\treturn (\n\t\t\t<TrackVisibility partialVisibility={true} key={props.photo.key}>\n\t\t\t\t{({ isVisible }: { isVisible: boolean }) =>\n\t\t\t\t\tisVisible ? (\n\t\t\t\t\t\t<MyPhoto\n\t\t\t\t\t\t\tkey={props.photo.key}\n\t\t\t\t\t\t\tindex={props.index}\n\t\t\t\t\t\t\tphoto={props.photo}\n\t\t\t\t\t\t\tdirection={props.direction}\n\t\t\t\t\t\t\tleft={props.left}\n\t\t\t\t\t\t\ttop={props.top}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.props.openLightbox(props.index);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ width: props.photo.width, height: props.photo.height }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</TrackVisibility>\n\t\t);\n\t}\n\n\trender() {\n\t\t// @ts-ignore\n\t\treturn (\n\t\t\t<Gallery\n\t\t\t\tdirection=\"row\"\n\t\t\t\tcolumns={4}\n\t\t\t\ttargetRowHeight={256}\n\t\t\t\tmargin={5}\n\t\t\t\tphotos={this.props.photos}\n\t\t\t\trenderImage={this.imageRender.bind(this)}\n\t\t\t\t// renderImage={this.imageRenderVisibilitySensor.bind(this)}\n\t\t\t\t// renderImage={this.imageRenderOnScreen.bind(this)}\n\t\t\t\t// renderImage={(props: RenderImageProps<any>) => (\n\t\t\t\t// \t<ImageRenderIntersection {...props} />\n\t\t\t\t// )}\n\t\t\t/>\n\t\t);\n\t}\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\MyPhoto.tsx",["128"],"import React from \"react\";\nimport { PhotoProps, RenderImageProps } from \"react-photo-gallery\";\nimport moment from \"moment\";\nimport { PhotoSetItem } from \"./GalleryInScroll\";\n// @ts-ignore\nimport ReactHoverObserver from \"react-hover-observer\";\n\ninterface Props {\n\tindex: number;\n\tdirection?: \"row\" | \"column\";\n\tleft?: number;\n\ttop?: number;\n\tphoto: PhotoProps<PhotoSetItem>;\n\tonClick: (e: React.MouseEvent, photo: PhotoProps, index: number) => void;\n\tforceInfo?: boolean;\n}\n\ninterface MyPhotoState {\n\tshowOverlay: boolean;\n\tmouseX?: number;\n\tmouseY?: number;\n}\n\nexport class MyPhoto extends React.Component<Props, MyPhotoState> {\n\tmargin = 2;\n\tref = React.createRef<HTMLDivElement>();\n\tbounds?: ClientRect & { x: number; y: number };\n\tstate: MyPhotoState = {\n\t\tshowOverlay: false,\n\t};\n\n\trender() {\n\t\t//console.log(this.props);\n\t\tlet cont: any = {\n\t\t\tmargin: this.margin,\n\t\t\tposition: \"relative\",\n\t\t\twidth: this.props.photo.width,\n\t\t\theight: this.props.photo.height,\n\t\t};\n\t\tif (this.props.direction === \"column\") {\n\t\t\tcont.position = \"absolute\";\n\t\t\tcont.left = this.props.left;\n\t\t\tcont.top = this.props.top;\n\t\t}\n\t\treturn (\n\t\t\t<ReactHoverObserver>\n\t\t\t\t{({ isHovering }: { isHovering: boolean }) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\t// key={this.props.key}\n\t\t\t\t\t\tstyle={{ ...cont }}\n\t\t\t\t\t\tonClick={(e) =>\n\t\t\t\t\t\t\tthis.props.onClick\n\t\t\t\t\t\t\t\t? this.props.onClick(e, this.props.photo, this.props.index)\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tref={this.ref}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={this.props.photo.src}\n\t\t\t\t\t\t\twidth={this.props.photo.width}\n\t\t\t\t\t\t\theight={this.props.photo.height}\n\t\t\t\t\t\t\t// onMouseEnter={this.showOverlay.bind(this)}\n\t\t\t\t\t\t\t// onMouseOut={this.hideOverlay.bind(this)}\n\t\t\t\t\t\t\talt={this.props.photo.src}\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\tthis.props.photo.image?.getWidth() +\n\t\t\t\t\t\t\t\t\"x\" +\n\t\t\t\t\t\t\t\tthis.props.photo.image?.getHeight()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{(this.state.showOverlay || this.props.forceInfo || isHovering) && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tbackground: \"black\",\n\t\t\t\t\t\t\t\t\t\topacity: 0.5,\n\t\t\t\t\t\t\t\t\t\tpadding: \"0.5em\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>Name: {this.props.photo.image?.basename}</div>\n\t\t\t\t\t\t\t\t\t<div>Path: {this.props.photo.image?.pathEnd}</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\tSize:{\" \"}\n\t\t\t\t\t\t\t\t\t\t{this.props.photo.image?.getWidth() +\n\t\t\t\t\t\t\t\t\t\t\t\"x\" +\n\t\t\t\t\t\t\t\t\t\t\tthis.props.photo.image?.getHeight()}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\tDate:{\" \"}\n\t\t\t\t\t\t\t\t\t\t{moment(this.props.photo.image?.getTimestamp()).format(\n\t\t\t\t\t\t\t\t\t\t\t\"YYYY-MM-DD HH:mm:ss\"\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</ReactHoverObserver>\n\t\t);\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\tshowOverlay() {\n\t\tthis.setState({\n\t\t\tshowOverlay: true,\n\t\t});\n\t}\n\n\t/**\n\t * @deprecated\n\t */\n\thideOverlay(e: React.MouseEvent) {\n\t\tthis.bounds = this.ref?.current?.getBoundingClientRect();\n\t\tthis.setState({\n\t\t\tmouseX: e.pageX,\n\t\t\tmouseY: e.pageY,\n\t\t});\n\t\t// e.pageX += window.pageXOffset;\n\t\t// e.pageY += window.pageYOffset;\n\t\t// console.log(e.pageX, e.pageY, this.bounds);\n\t\tif (this.bounds) {\n\t\t\tconst insideX = this.bounds.left < e.pageX && e.pageX < this.bounds.right;\n\t\t\tconst insideY = this.bounds.top < e.pageY && e.pageY < this.bounds.bottom;\n\t\t\tconsole.log(\n\t\t\t\tinsideX,\n\t\t\t\tinsideY,\n\t\t\t\tthis.bounds.top,\n\t\t\t\t\"<\",\n\t\t\t\te.pageY,\n\t\t\t\t\"<\",\n\t\t\t\tthis.bounds.bottom\n\t\t\t);\n\t\t\tif (!insideX || !insideY) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowOverlay: false,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test\\visibility-test.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\stream-render-gallery.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\stream-render-simple.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\stream\\stream-page.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test\\one-image-test.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\test\\timeline-test.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\timeline.tsx",["129","130"],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\widgets\\clickable-sparkline-bars.tsx",[],"C:\\AnypointStudio\\AnypointStudio\\slawa2021\\pinacotheque\\src\\functions.ts",[],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":7,"column":10,"nodeType":"137","messageId":"138","endLine":7,"endColumn":17},{"ruleId":"139","severity":1,"message":"140","line":22,"column":2,"nodeType":"141","messageId":"142","endLine":24,"endColumn":3},{"ruleId":"143","severity":1,"message":"144","line":37,"column":4,"nodeType":"145","endLine":37,"endColumn":14},{"ruleId":"143","severity":1,"message":"144","line":38,"column":4,"nodeType":"145","endLine":38,"endColumn":14},{"ruleId":"135","severity":1,"message":"146","line":7,"column":8,"nodeType":"137","messageId":"138","endLine":7,"endColumn":19},{"ruleId":"135","severity":1,"message":"147","line":15,"column":7,"nodeType":"137","messageId":"138","endLine":15,"endColumn":30},{"ruleId":"135","severity":1,"message":"148","line":2,"column":22,"nodeType":"137","messageId":"138","endLine":2,"endColumn":38},{"ruleId":"135","severity":1,"message":"149","line":1,"column":17,"nodeType":"137","messageId":"138","endLine":1,"endColumn":28},{"ruleId":"135","severity":1,"message":"150","line":3,"column":22,"nodeType":"137","messageId":"138","endLine":3,"endColumn":36},"no-native-reassign",["151"],"no-negated-in-lhs",["152"],"@typescript-eslint/no-unused-vars","'Sidebar' is defined but never used.","Identifier","unusedVar","@typescript-eslint/no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","'ScaleLoader' is defined but never used.","'ImageRenderIntersection' is defined but never used.","'RenderImageProps' is defined but never used.","'ChangeEvent' is defined but never used.","'SparklinesBars' is defined but never used.","no-global-assign","no-unsafe-negation"]